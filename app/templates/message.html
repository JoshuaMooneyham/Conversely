{% load static %}

<div style="{% if message.user == user %}display:flex; flex-direction:column; width: 90vw; align-items:flex-end;{% endif %}">
    {% if message.text %}
    <p>{{message.text}}</p>
    {% elif message.file %}
    <img src="{{message.file.url}}" alt="">
    {% endif %}
    <div style='display:flex'>
        <a href="{% url "profile" message.user.username %}">{{message.user.username}}</a>
        {% if message.user.profile.image %}
        <img src="{{message.user.profile.image.url}}" style='height: 30px'>
        {% else %}
        <img src="{% static "images/default-user.jpg" %}" alt="" style='height: 30px'>
        {% endif %}
    </div>
    {% if message.user == user %}
        <button id='delete-message' name='delete_message' hx-delete="{% url "delete_message" message.pk %}">Delete</button>
    {% endif %}
    <p>{{message.date_created.time}}</p>
</div>